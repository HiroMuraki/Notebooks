## 相关文件

| 路径            | 说明             |
| --------------- | ---------------- |
| /etc/group      | 存储组信息       |
| /etc/gshadow    | 存储组安全信息   |
| /etc/login.defs | 组创建的默认设置 |

## 用户控制

**添加用户**

非交互式

```bash
sudo useradd -m <username>
```

常用参数

| 参数 | 说明       | 示例         |
| ---- | ---------- | ------------ |
| -m   | 创建家目录 | -m           |
| -s   | 指定 shell | -s /bin/bash |
| -g   | 指定主组   | -g users     |
| -G   | 指定附加组 | -G sudo      |

交互式创建

```bash
sudo adduser <username>
```

**切换到用户**

```bash
sudo -u <username> -s
```

**设置用户密码**

```bash
sudo passwd <username>
```

## 用户组控制

**查看当前用户的组**

```bash
groups
```

**列出所有组**

```bash
cat /etc/group
```

**创建组**

```bash
sudo groupadd <group_name>
```

**删除组**

```bash
sudo groupdel <group_name>
```

**重命名组**

```bash
sudo groupmod -n <new_group_name> <group_name>
```

**添加指定用户到组**

```bash
sudo usermod -aG <group_name> <username>
```

**从组中移除指定用户**

```bash
sudo gpasswd -d <username> <group_name>
```

或者

```bash
sudo deluser <username> <group_name>
```

## sudo 权限配置

**为指定用户添加 sudo 权限**

root 用户打开`/etc/sudoers`，找到以下位置写入

```bash
# User privilege specification
root         ALL=(ALL:ALL) ALL
<username>   ALL=(ALL:ALL) ALL # 添加此行
```

**为指定组添加 sudo 权限**

root 用户打开`/etc/sudoers`，找到以下位置写入

```bash
# Members of the admin group may gain root privileges
%admin ALL=(ALL) ALL # 示例：设置admin组
```
